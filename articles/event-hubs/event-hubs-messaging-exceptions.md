<properties 
    pageTitle="Événement Hubs messagerie exceptions | Microsoft Azure"
    description="Liste de Azure événement Hubs messagerie exceptions et les actions suggérées."
    services="event-hubs"
    documentationCenter="na"
    authors="sethmanheim"
    manager="timlt"
    editor="" />
<tags 
    ms.service="event-hubs"
    ms.devlang="na"
    ms.topic="article"
    ms.tgt_pltfrm="na"
    ms.workload="na"
    ms.date="10/14/2016"
    ms.author="sethm" />

# <a name="event-hubs-messaging-exceptions"></a>Événement Hubs exceptions de messagerie

Cet article répertorie quelques exceptions générées par le Bus des services Azure API de messagerie. Cet ensemble de l’API inclut Hubs événement. Cette référence peut être modifié, reportez-vous à nouveau les mises à jour.

## <a name="exception-categories"></a>Catégories d’exceptions

Les API de messagerie génèrent des exceptions qui peuvent se trouvent dans les catégories suivantes, ainsi que l’action associée, que vous pouvez prendre pour tenter de les résoudre. Notez que la signification et causes d’une exception peuvent varier selon le type de messagerie entité (relais, files d’attente/rubriques, événement Hubs) :

1.  Utilisateur codage d’erreur ([System.ArgumentException](https://msdn.microsoft.com/library/system.argumentexception.aspx), [System.InvalidOperationException](https://msdn.microsoft.com/library/system.invalidoperationexception.aspx), [System.OperationCanceledException](https://msdn.microsoft.com/library/system.operationcanceledexception.aspx), [System.Runtime.Serialization.SerializationException](https://msdn.microsoft.com/library/system.runtime.serialization.serializationexception.aspx)). Action générale : essayer de corriger le code avant de poursuivre.

2.  Erreur d’installation/configuration ([Microsoft.ServiceBus.Messaging.MessagingEntityNotFoundException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingentitynotfoundexception.aspx), [System.UnauthorizedAccessException](https://msdn.microsoft.com/library/system.unauthorizedaccessexception.aspx). Action générale : vérifier votre configuration et modifier si nécessaire.

3.  Exceptions transitoires ([Microsoft.ServiceBus.Messaging.MessagingException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingexception.aspx), [Microsoft.ServiceBus.Messaging.ServerBusyException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.serverbusyexception.aspx), [Microsoft.ServiceBus.Messaging.MessagingCommunicationException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingcommunicationexception.aspx)). Action générale : recommencez l’opération ou informer les utilisateurs.

4.  Autres exceptions ([System.Transactions.TransactionException](https://msdn.microsoft.com/library/system.transactions.transactionexception.aspx), [System.TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx), [Microsoft.ServiceBus.Messaging.MessageLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagelocklostexception.aspx), [Microsoft.ServiceBus.Messaging.SessionLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.sessionlocklostexception.aspx)). Action générale : selon le type d’exception ; reportez-vous à la table dans la section suivante. 

## <a name="exception-types"></a>Types d’exception

Le tableau suivant répertorie les types d’exception messagerie et leurs causes et action suggérée notes que vous pouvez prendre.

| **Type d’exception**                                                                                                                                                                                                                                                                                | **Description/Cause/exemples**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | **Action suggérée**                                                                                                                                                                                                                                                                                                                                                                                                          | **Remarque sur nouvelle tentative automatique/immédiate**                                                                                             |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------|
| [TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx)                                                                                                                                                                                                           | Le serveur n’a pas répondu à l’opération demandée durant la période spécifiée, qui est contrôlée par [OperationTimeout](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactorysettings.operationtimeout.aspx). Le serveur peut avoir terminé l’opération demandée. Cela peut arriver en raison de réseau ou d’autres retards infrastructure.                                                                                                                                                                                                                                                                   | Vérifiez l’état du système pour la cohérence et réessayez si nécessaire.                                                                                                                                                                                                                                                                                                                                                            | Nouvelles tentatives peuvent vous aider dans certains cas ; Ajouter une logique de nouvelle tentative au code.                                                                      |
| [InvalidOperationException](https://msdn.microsoft.com/library/system.invalidoperationexception.aspx)                                                                                                                                                                                         | L’opération utilisateur demandé n’est pas autorisée dans le serveur ou le service. Consultez le message d’exception pour plus d’informations. Par exemple, [achevé](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage.complete.aspx) génère cette exception si le message a été reçu en mode **ReceiveAndDelete** .                                                                                                                                                                                                                                                                                                     | Vérifier le code et la documentation. Vérifiez que l’opération demandée est valide.                                                                                                                                                                                                                                                                                                                                         | Nouvelle tentative ne permettra pas.                                                                                                          |
| [OperationCanceledException](https://msdn.microsoft.com/library/system.operationcanceledexception.aspx)                                                                                                                                                                                       | Tentative d’appeler une opération sur un objet qui a déjà été fermé, abandonnée ou supprimé. Rarement, la transaction ambiance est déjà supprimée.                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Vérifiez le code et vérifiez qu’il n’appelle pas les opérations sur un objet supprimé.                                                                                                                                                                                                                                                                                                                                          | Nouvelle tentative ne permettra pas.                                                                                                          |
| [UnauthorizedAccessException](https://msdn.microsoft.com/library/system.unauthorizedaccessexception.aspx)                                                                                                                                                                                     | L’objet [TokenProvider a](https://msdn.microsoft.com/library/azure/microsoft.servicebus.tokenprovider.aspx) n’a pas pu obtenir un jeton, le jeton n’est pas valide ou le jeton ne contient-elle pas les revendications requises pour exécuter l’opération.                                                                                                                                                                                                                                                                                                                                                                                                  | Vérifiez que le fournisseur de jetons est créé avec les valeurs correctes. Vérifiez la configuration du service de contrôle d’accès.                                                                                                                                                                                                                                                                                                   | Nouvelles tentatives peuvent vous aider dans certains cas ; Ajouter une logique de nouvelle tentative au code.                                                                      |
| [ArgumentException](https://msdn.microsoft.com/library/system.argumentexception.aspx)<br /> [ArgumentNullException](https://msdn.microsoft.com/library/system.argumentnullexception.aspx)<br />[ArgumentOutOfRangeException](https://msdn.microsoft.com/library/system.argumentoutofrangeexception.aspx) | Un ou plusieurs arguments fournis à la méthode ne sont pas valides. L’URI fournie à [NamespaceManager](https://msdn.microsoft.com/library/azure/microsoft.servicebus.namespacemanager.aspx) ou [créer](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactory.create.aspx) contient des segments de chemin d’accès. Le modèle URI fourni à [NamespaceManager](https://msdn.microsoft.com/library/azure/microsoft.servicebus.namespacemanager.aspx) ou [créer](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactory.create.aspx) n’est pas valide. La valeur de propriété est supérieure à 32 Ko. | Vérifiez le code d’appel et assurez-vous que les arguments sont corrects.                                                                                                                                                                                                                                                                                                                                                           | Nouvelle tentative ne permettra pas.                                                                                                          |
| [MessagingEntityNotFoundException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingentitynotfoundexception.aspx)                                                                                                                                             | Entité associée à l’opération n’existe pas ou il a été supprimé.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Vérifiez que l’entité existe.                                                                                                                                                                                                                                                                                                                                                                                              | Nouvelle tentative ne permettra pas.                                                                                                          |
| [MessageNotFoundException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagenotfoundexception.aspx)                                                                                                                                                             | Essayez de recevoir un message avec un numéro de séquence particulier. Ce message n’est pas trouvé.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Vérifiez que le message n’a pas déjà été reçu. Vérifier la file d’attente de lettres mortes pour voir si le message a été deadlettered.                                                                                                                                                                                                                                                                                              | Nouvelle tentative ne permettra pas.                                                                                                          |
| [MessagingCommunicationException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingcommunicationexception.aspx)                                                                                                                                               | Client n’est pas en mesure d’établir une connexion à un concentrateur de l’événement.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Vérifiez que le nom d’hôte fourni est correct et l’hôte est accessible.                                                                                                                                                                                                                                                                                                                                                    | Nouvelle tentative peut être utile si des problèmes de connectivité discontinue.                                                               |
| [ServerBusyException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.serverbusyexception.aspx)                                                                                                                                                                       | Service n’est pas en mesure de traiter la demande pour le moment.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Client, vous pouvez attendre pour une période donnée, puis recommencez l’opération.                                                                                                                                                                                                                                                                                                                                                           | Client pouvez réessayer après un certain intervalle. Si une nouvelle tentative entraîne une exception différente, vérifiez le comportement des nouvelles tentatives de cette exception. |
| [MessageLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagelocklostexception.aspx)                                                                                                                                                             | Jeton de verrouillage associé au message a expiré, ou le jeton de verrouillage n’est pas trouvé.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Supprimer le message.                                                                                                                                                                                                                                                                                                                                                                                                      | Nouvelle tentative ne permettra pas.                                                                                                          |
| [SessionLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.sessionlocklostexception.aspx)                                                                                                                                                             | Verrou associé à cette session est perdue.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Abandonner l’objet [MessageSession](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagesession.aspx) .                                                                                                                                                                                                                                                                                           | Nouvelle tentative ne permettra pas.                                                                                                          |
| [MessagingException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingexception.aspx)                                                                                                                                                                         | Générique messagerie exception peut être levée dans les cas suivants : tentative pour créer un [QueueClient](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.queueclient.aspx) à l’aide d’un nom ou un chemin d’accès appartenant à un type d’entité différent (par exemple, une rubrique). Tentative d’envoyer un message plus de 256 Ko. Le serveur ou le service a rencontré une erreur pendant le traitement de la demande. Consultez le message d’exception pour plus d’informations. Il s’agit généralement une exception transitoire.                                                                                                               | Vérifiez le code et vous assurer que seuls les objets sérialisables sont utilisés pour le corps du message (ou utilisez un sérialiseur personnalisé). Consultez la documentation pour les types de valeur prise en charge des propriétés et des types d’utilisation pris en charge uniquement. Vérifiez la propriété [IsTransient](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingexception.istransient.aspx) . S’il est **Vrai**, vous pouvez recommencez l’opération. | Comportement des nouvelles tentatives n’est pas définie et ne peut-être pas vous aider.                                                                               |
| [MessagingEntityAlreadyExistsException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingentityalreadyexistsexception.aspx)                                                                                                                                   | Essayez de créer une entité avec un nom qui est déjà utilisé par une autre entité dans cet espace de noms de service.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Supprimez l’entité existante ou choisissez un autre nom pour l’entité à créer.                                                                                                                                                                                                                                                                                                                                       | Nouvelle tentative ne permettra pas.                                                                                                          |
| [QuotaExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.quotaexceededexception.aspx)                                                                                                                                                                 | L’entité de messagerie a atteint sa taille maximale autorisée. Cela peut arriver si le nombre maximal de récepteurs (c'est-à-dire 5) a déjà été ouvert sur un niveau de groupe par consommateur.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Créer un espace dans l’entité en recevant des messages à partir de l’entité ou ses sous-dossiers files d’attente.                                                                                                                                                                                                                                                                                                                                       | Nouvelle tentative peut être utile si les messages ont été supprimés dans l’intervalle.                                                           
|
| [SessionCannotBeLockedException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.sessioncannotbelockedexception.aspx)                                                                                                                                                 | Tentative d’accepter une session avec un ID de session spécifique, mais la session est verrouillée par un autre client.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Vérifiez que la session est déverrouillée par d’autres clients.                                                                                                                                                                                                                                                                                                                                                                       | Nouvelle tentative peut être utile si la session a été publiée dans l’intervalle.                                                             |
| [TransactionSizeExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.transactionsizeexceededexception_methods.aspx)                                                                                                                                     | Trop d’opérations font partie de la transaction.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Réduisez le nombre d’opérations qui font partie de cette opération.                                                                                                                                                                                                                                                                                                                                                        | Nouvelle tentative ne permettra pas.                                                                                                          |
| [MessagingEntityDisabledException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingentitydisabledexception.aspx)                                                                                                                                             | Demande d’une opération d’exécution sur une entité désactivée.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Activer l’entité.                                                                                                                                                                                                                                                                                                                                                                                                      | Nouvelle tentative peut être utile si l’entité a été activée dans l’intervalle.                                                             |
| [MessageSizeExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagesizeexceededexception.aspx)                                                                                                                                                     | Une charge utile du message dépasse la limite de 256 Ko. Notez que la limite de k 256 est la taille totale du message, qui peut inclure des propriétés système et toute surcharge .NET.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Réduire la taille de la charge utile de message, puis recommencez l’opération.                                                                                                                                                                                                                                                                                                                                                         | Nouvelle tentative ne permettra pas.                                                                                                          |
| [TransactionException](https://msdn.microsoft.com/library/system.transactions.transactionexception.aspx)                                                                                                                                                                                      | La transaction ambiance (*Transaction.Current*) n’est pas valide. Il ont été achevée ou abandonné. Exception interne peut fournir des informations supplémentaires.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                           | Nouvelle tentative ne permettra pas.                                                                                                          | -
| [TransactionInDoubtException](https://msdn.microsoft.com/library/system.transactions.transactionindoubtexception.aspx)                                                                                                                                                                        | Tentative d’une opération sur une transaction qui est de doute, ou tentative de valider la transaction et la transaction devient de doute.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Votre application doit gérer cette exception (comme un cas particulier), la transaction ait déjà été validée.                                                                                                                                                                                                                                                                                                      | -                                                                                                                              |

## <a name="quotaexceededexception"></a>QuotaExceededException

[QuotaExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.quotaexceededexception.aspx) indique a dépassé un quota pour une entité spécifique.

Cela peut arriver si le nombre maximal de récepteurs (5) a déjà été ouvert sur un niveau de groupe par consommateur.

### <a name="event-hubs"></a>Événement Hubs

Événement Hubs a une limite de 20 groupes consommateur par événement concentrateur. Lorsque vous tentez de créer plus, vous recevez un [QuotaExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.quotaexceededexception.aspx). 

## <a name="timeoutexception"></a>TimeoutException 

Une [exception TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx) indique qu’une opération initialisé par l’utilisateur est en cours dépasse le délai d’expiration de l’opération. 

### <a name="event-hubs"></a>Événement Hubs

Pour les événements Hubs, le délai est spécifié dans le cadre de la chaîne de connexion, ou via [ServiceBusConnectionStringBuilder](https://msdn.microsoft.com/library/azure/microsoft.servicebus.servicebusconnectionstringbuilder.aspx). Le message d’erreur peut-être varier, mais elle doit toujours contenir la valeur du délai spécifiée pour l’opération en cours. 

### <a name="common-causes"></a>Causes courantes

Il existe deux causes pour cette erreur : une configuration incorrecte ou une erreur de service transitoires.

1. **Une configuration incorrecte** 
    le délai d’expiration de l’opération peut-être être trop petit pour la condition opérationnelle. La valeur par défaut pour le délai d’expiration de l’opération dans le Kit de développement logiciel client est de 60 secondes. Vérifiez si votre code a la valeur définie pour qu’elle soit trop petit. Notez que la condition du réseau et de l’UC peut affecter le temps que nécessaire pour une opération de particulière, afin que le délai d’expiration de l’opération ne doit pas être définie sur une valeur très petite.

2. **Erreur du service transitoires** 
    parfois le service événement Hubs peut subir des retards de traitement des demandes ; par exemple, pendant les périodes de trafic élevé. Dans ce cas, vous pouvez renouveler votre opération après un délai, jusqu'à ce que l’opération réussit. Si la même opération échoue encore après plusieurs tentatives, visitez le [site état du service Azure](https://azure.microsoft.com/status/) pour déterminer s’il existe des interruptions de n’importe quel service connus.

## <a name="next-steps"></a>Étapes suivantes

Pour la référence de Service Bus et événement Hubs .NET API complète, voir la [référence à Azure sur MSDN](https://msdn.microsoft.com/library/azure/mt419900.aspx).
